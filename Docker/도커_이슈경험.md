# '=> ERROR [internal] load metadata for docker.io/library/node:17-alpine3.14'

docker config 파일 삭제

```
$ rm ~/.docker/config.json
```

# supervisor - apk 인증서 문제 (SSL routines:tls process server certificate:certificate verify failed:ssl/statem/statem)

```
 > [build 6/9] RUN apk add supervisor:
#0 0.161 fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/aarch64/APKINDEX.tar.gz
#0 0.252 281473639570504:error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed:ssl/statem/statem_clnt.c:1914:
#0 0.252 ERROR: https://dl-cdn.alpinelinux.org/alpine/v3.14/main: Permission deniedfetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/aarch64/APKINDEX.tar.gz
#0 0.252
#0 0.252 WARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.14/main: No such file or directory
#0 0.308 281473639570504:error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed:ssl/statem/statem_clnt.c:1914:
#0 0.309 ERROR: https://dl-cdn.alpinelinux.org/alpine/v3.14/community: Permission denied
#0 0.309 WARNING: Ignoring https://dl-cdn.alpinelinux.org/alpine/v3.14/community: No such file or directory
#0 0.310   supervisor (no such package):
#0 0.310     required by: world[supervisor]
#0 0.310 ERROR: unable to select packages:
```

임시 방편으로 Docker 파일에
`sed 's/https/http/g' -i /etc/apk/repositories` 추가

```Dockerfile
RUN sed 's/https/http/g' -i /etc/apk/repositories
...
RUN apk add supervisor
```

# exec user process caused: exec format error

Docker Buildx 를 통한 Multi-architecture 이미지 빌드

https://kimjingo.tistory.com/221

https://kimjingo.tistory.com/115

# node::WorkerThreadsTaskRunner

```
node[6]: ../src/node_platform.cc:68:std::unique_ptr<long unsigned int> node::WorkerThreadsTaskRunner::DelayedTaskScheduler::Start(): Assertion `(0) == (uv_thread_create(t.get(), start_thread, this))' failed.
 1: 0xc99970 node::Abort() [node]
 2: 0xc999ee  [node]
 3: 0xd19899 node::WorkerThreadsTaskRunner::WorkerThreadsTaskRunner(int) [node]
 4: 0xd199bc node::NodePlatform::NodePlatform(int, v8::TracingController*, v8::PageAllocator*) [node]
 5: 0xc53c23  [node]
 6: 0xc545b4 node::Start(int, char**) [node]
 7: 0x7fa8d1ddcd90  [/lib/x86_64-linux-gnu/libc.so.6]
 8: 0x7fa8d1ddce40 __libc_start_main [/lib/x86_64-linux-gnu/libc.so.6]
 9: 0xbb0c7e _start [node]
```

```
ulimit -u 1024
```

https://github.com/nodejs/node/issues/43064
