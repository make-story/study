`함수형 자바스크립트 입문` 책 정리

# compose 함수

compose 함수 정의

```javascript
const compose = (a, b) => c => a(b(c));
```

두 함수 a와 b를 받아 하나의 인자 c를 갖는 함수를 반환한다.

c에 값을 넣어 compose 함수를 호출하면,  
c의 입력을 갖는 함수 b를 호출하고,
함수 b의 출력은 함수 a의 입력으로 간다.

이것이 바로 compose 함수의 정의다.

## compose 함수 다루기

compose 없이 다음과 같이 할 수 있다.

```javascript
let data = parseFloat('3.56');
let number = Math.round(data);
```

compose 함수로 해결해보자.

```javascript
let number = compose(Math.round, parseFloat); // number = (c) => Math.round(parseFloat(c)) 의미와 동일
number('3.56'); // 4
```

## 여러 함수 합성

compose 함수를 다시 작성해 여러 함수를 합성해보자.

```javascript
const compose =
  (...fns) =>
  value =>
    reduce(fns.reverse(), (acc, fn) => fn(acc), value);
```

함수를 합성해 문자 열에서 주어진 단어 개수를 세어보자.

```javascript
let splitIntoSpaces = str => str.split(' ');
let count = array => array.length;
const countWords = compose(count, splitIntoSpaces);

// 단어 개수 세기
countWords('hello your reading about composition'); // 5
```

주어진 문자열에서의 단어 개수가 홀수인지 짝수인지 알고자 한다.

```javascript
let oddOrEven = ip => (ip % 2 === 0 ? 'even' : 'odd');

const oddOrEvenWords = compose(oddOrEven, count, splitIntoSpaces);
oddOrEvenWords(hello your reading about composition); // odd
```

## 파이프라인과 시퀀스

`compose 의 데이터 플로우가 오른쪽에서 왼쪽`  
유닉스 명령어에서 |(파이프기호) 를 사용할 때 데이터 플로우는 윈쪽에서 오른쪽이다.  
`compose 함수와 동일한 동작을 하지만 데이터 플로우가 반대인 pipe`

---

# 파이프 구현

pipe 함수는 compose 함수의 복제 형태다.

```javascript
const pipe =
  (...fns) =>
  value =>
    reduce(fns, (acc, fn) => fn(acc), value);
```

fns 역함수의 호출은 pipe 안에 더 이상 없는데, 이는 왼쪽부터 오른쪽 순서로 함수를 실행하겠다는 의미다.

```javascript
const oddOrEvenWords = pipe(splitIntoSpaces, count, oddOrEven);
oddOrEvenWords(hello your reading about composition); // odd
```

# 컴포지션의 특이점
