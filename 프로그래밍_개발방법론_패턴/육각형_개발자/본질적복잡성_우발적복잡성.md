# 본질적 복잡성과 우발적 복잡성 - p200

몇 해 전 개발 업계의 지인한테서 비동기 사용 사례를 들은 적이 있다.  
지인의 업체는 모바일 앱과 서버 간 통신을 2단계로 나눠서 처리했다.  
모바일 앱이 서버 API를 호출하면 서버는 그 요청을 큐(Queue)에 저장하고 바로 응답한다.  
이후 모바일 앱은 처리 상태를 확인하기 위해 주기적으로 상태 확인 API를 호출한다.  
서버가 클라이언트 요청을 비동기로 처리함으로써 트래픽 부하에 대응할 수 있도록 했다.

`문제는 서버에 그 정도 부하가 발생할 일이 없다는 데 있었다.`  
`CTO 역할을 맡은 개발 담당자는 현실을 고려하지 않고 자신이 이전에 좋다고 생각한 기술과 구조를 도입했다.`  
그 결과 서버 구조가 복잡해지고 모바일 앱과 서버 간 통신 방식도 복잡해졌다.  
하지만 시스템의 복잡함이 빛을 발할 순간은 오지 않았다.

이렇게 `해결해야 할 문제와 상관없는 복잡함을 우발적 복잡성(accidental complexity)이라고 부른다.`  
기술 사용 욕구에 빠진 개발자에게 우발적 복잡성이 발생하는 경우를 종종 볼 수 있다.  
더 쉽고 단순한 기술로 처리할 수 있는 문제를 불필요한 기술을 사용해서 복잡도를 높이는 것이다.

반대로 `해결해야 할 문제 자체가 복잡해서 생기는 복잡함을 본질적 복잡성(essential complexity)이라고 한다.`  
예를 들어 높은 가용성과 높은 처리량을 함께 제공해야 하는 시스템은 그렇지 않은 시스템과 비교하면 복잡해진 수 밖에 없다. 이렇게 문제 해결을 위해 필수적으로 발생하는 복잡함이 본질적 복잡성이다.

개발자는 우발적 복잡성에 빠지지 않도록 경계해야 한다.  
물론, 흥미로운 기술을 만나면 사용해 보고 싶고, 유명한 회사에서 썼다는 기술도 써 보고 싶기 마련이다.  
`심할 때는 어떤 기술을 쓰지 못하게 막는 상사한테 화가 날 때고 있다.`  
하지만 그럴수록 우발적 복잡성의 유혹에 빠지지는 않았는지 곱씹어보자.  
당장 마주한 문제 또는 곧 닥칠 문제를 해결하기 위해 어쩔 수 없이 복잡성이 동반되어야 한다면 지속해서 설득하는 시간을 가져야 한다.

같은 문제를 해결하려 한다면 복잡한 구조보다 단순한 구조가 더 좋다는 사실을 항상 명심하자.
