# `육각형 개발자` 책 내용 중, 응집도와 결합도 - 5장

## 응집도

다음은 응집도의 정의를 발췌한 것이다.

- 응집도는 모듈 안에 있는 요소가 함께 모여 있는 정도를 나타낸다.
- 응집도는 한 모듈의 파트가 동일한 모듈 안에 얼마나 포함되어 있는지를 나타낸다.

작게는 메서드/함수 수준부터 크게는 프로세스 수준에 이르기까지 모든 수준에서 응집도를 판단할 수 있다.

다음은 응집도를 판단하는 몇 가지 예를 나타낸 것이다.

- 회원 관련 코드가 한 패키지(또는 모듈)에 모여 있는가?
- 스택 관련 코드가 한 클래스에 모여 있는가?
- 폼 검증 로직이 한 함수에 모여 있는가?

관련 코드가 한곳에 모여 있으면 응집도가 높다고 표현하고  
반대로 관련 코드가 여러 곳에 분산되어 있으면 응집도가 낮다고 표현한다.

### 응집도 / 역할 / 수정 범위

응집도는 역할 또는 책임과 관련이 있다.  
응집도가 높아지면 구성 요소가 역할에 따라 알맞게 분리될 가능성이 커진다.  
구성 요소가 역할에 따라 분리될수록 소프트웨어를 수정해야 할 때 변경 범위가 좁아진다.  
또한 응집도가 높아질수록 요소를 수정하려는 이유도 하나로 줄어든다.

## 결합도

결합도는 소프트우어 모듈이 서로 의존하는 정도이다.  
두 모듈이 얼마나 밀접하게 연결되어 있는지 모듈 간 관계 정도를 나타낸다.

한 요소를 수정할 때 다른 요소도 함께 수정해야 하면  
두 요소간 결합도가 높다고 표현한다.  
반대로 한 모듈을 수정할 때 다른 모듈을 수정하지 않아도 되면 결합도가 낮다고 말한다.

`응집도가 높다고 해서 반드시 결합도가 낮다는 것은 아니다.`  
응집도를 높이려면 코드를 역할에 따라 분리해야 한다.  
그러나 분리된 요소 간에 의존이 발생하게 되고, 서로 의존하는 정도가 올라갈수록 결합도가 증가한다.

### 추상화 타입과 결합도

추상화 타입을 사용해도 결합도를 낮출 수 있다.

### 이벤트와 결합도

결합도를 낮추는 또 다른 방법은 이벤트를 사용하는 것이다.

### 추상화 / 이벤트와 코드 추적

결합도를 낮추기 위해 추상화 타입을 중간에 위치시키거나  
이벤트를 사용하면 두 코드를 직접 연결하지 않고 간접적으로 연결하게 된다.  
두 코드가 간접적으로 연결되어 있기 때문에 직접 연결된 코드에 비해 코드를 분석하는 데 더 많은 노력이 들어간다.  
또한 새로운 타입이 추가되어 구조도 약간 복잡해 진다.

따라서 `추상화나 이벤트를 적용할 때는 결합도 감소, 응집도 증가, 변경 비용 감소, 테스트 가능성 등 얻을 수 있는 이점을 따져봐야 한다.`  
`이점이 별로 없다면 추상화 타입을 사용하지 않고 구현만 분리해서 응집도를 높이는 것도 좋은 선택이 될 수 있다.`

### 결합 유형

- 공통 결합(common coupling)
- 제어 결합(control coupling)
- 시간적 결합(temporal coupling)
- 논리 결합(logical coupling) 또는 변경 결합(change coupling)
