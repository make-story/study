# CI/CD (Continuous Integration/Continuous Delivery)

## Continuous Integration (CI - 지속적 통합) - 테스트환경/스테이지환경 배포

- CI 는 소프트웨어 개발 단계에서 발생하는 변경 사항을 지속적으로 통합하는 프로세스를 나타냅니다.
- 여러 개발자가 동시에 작업하는 환경에서 코드 변경 사항을 자주 통합하여 통합 오류를 최소화하고 소프트웨어의 안정성을 높입니다.
- 자동화된 빌드 및 테스트 프로세스를 포함하며, 코드가 주기적으로 통합되어 공동 작업 환경을 개선합니다.

## Continuous Delivery & Continuous Deployment (CD - 지속적 배포) - 운영환경 배포

- CD 는 통합된 코드 변경 사항이 테스트를 통과하면 자동으로 프로덕션 환경으로 배포되는 프로세스를 의미합니다.
- 자동화된 배포를 통해 신속하고 안정적으로 새로운 기능이나 수정 사항을 사용자에게 제공할 수 있습니다.
- 지속적 배포는 소프트웨어 개발 주기를 단축하고 효율적으로 관리할 수 있는 방법을 제공합니다.

# 배포 전략

https://reference-m1.tistory.com/211

## 롤링 배포

일반적인 배포를 의미하며, 단순하게 서버를 구성하여 배포하는 전략이다.  
다시 말해 구 버전에서 신 버전으로 트래픽을 점진적으로 전환하는 배포이다.  
관리가 편하지만, 배포 중 한쪽 인스턴스의 수가 감소되므로 서버 처리 용량을 미리 고려해야 한다.

## 블루 그린 배포

구 버전을 블루, 신 버전을 그린 이라고 해서 붙여진 이름이다.  
신 버전을 배포하고 일제히 전환하여 모든 연결을 신 버전을 바라보게 하는 전략이다.  
구 버전, 신 버전 서버를 동시에 나란히 구성하여 배포 시점에 트래픽이 일제히 전환된다.  
빠른 롤백이 가능하고, 운영환경에 영향을 주지 않고 실제 서비스 환경으로 신 버전 테스트가 가능하다.  
단 이런 구성은 시스템 자원이 두배로 필요하여 비용이 더 많이 발생한다.

## 카나리 배포

카나리 배포는 위험을 빠르게 감지할 수 있는 배포 전략이다.  
지정한 서버 또는 특정 user 에게만 배포했다가 정상적이면 전체를 배포한다.  
서버의 트래픽을 일부를 신 버전으로 분산하여 오류 여부를 확인할 수 있다. 이런 전략은 A/B 테스트가 가능하며, 성능 모니터링에 유용하다.  
트래픽을 분산시킬 때는 라우팅을 랜덤 하게 할 수 있고, 사용자로 분류할 수도 있다.
