# Throughput

https://hyuntaeknote.tistory.com/10

Throughput이란 시간당 처리량을 의미합니다.  
TPS(Transaction Per Second), RPS(Request Per Second) 등으로도 불리며,  
'1초에 처리하는 단위 작업의 수' 혹은 '1초에 처리하는 HTTP 요청 수' 등으로 해석할 수 있습니다.

즉, 1초에 최대한 많은 작업을 처리할 수 있는 서비스가 성능 측면에서 좋은 서비스라고 볼 수 있습니다.

예를 들어, A 서비스는 1초에 1000개의 작업을 처리하고 B 서비스는 1초에 2000개의 작업을 처리할 수 있는 능력을 가졌다면 B 서비스가 동일 시간 내에 더 많은 작업을 할 수 있으므로 성능면에서 더 좋다고 볼 수 있겠죠?
이렇듯 Throughput을 보면 내 서비스의 작업 처리 능력을 알 수 있으며, 이는 서비스 성능의 지표가 될 수 있습니다.

## TPS (Transaction Per Second)

`1 초당 처리할 수 있는 트랜잭션(작업)의 수`  
예를 들어, 데이터베이스에서 데이터를 조회하고, 수정하고, 다시 저장하는 작업

### 계산

https://dewble.tistory.com/entry/concept-of-performance-test

TPS = Active User / Average Response Time(s)

Active User = TPS \* Average Response Time(s)

실제 계산하는 방식은 일정 기간동안 실행된 트랜잭션의 개수를 구하고 다시 1초 구간에 대한 값으로 변경한다

뷰져(vuser / virtual user / 가상 사용자)가 6번의 트랜잭션을 매 분마다 완료할 경우,
TPS는 6 트랜잭션 / 60 초 = 0.1TPS 가 된다.

300명의 요청사항에 대한 TPS가 50이라면 해당 요청 사항을 다 처리하는데 6초가 걸린다고 생각할 수 있습니다. 
300 / 50 = 6

5 transaction / 5 sec 결과값은 1 TPS

2000명 요청 > TPS 30 > 66초?

K(Kilo) : 1,000 천단위
12k = 만이천(12,000)

M(Million) : 1,000,000 백만단위
8m = 팔백만(8,000,000)

B(Billion) : 1,000,000,000 십억단위
2b = 이십억(2,000,000,000)

### Node.js TPS

https://d2.naver.com/helloworld/2177909

Node.js는 조회성 서비스를 주로 처리하기 때문에 TPS 단위보다는 페이지 하나의 요청 처리 수를 단위 시간으로 나눈 RPS(Request Per Second)로 표현하는 게 더 적합하다.

Node.js의 경우 단일 스레드이기 때문에 하나의 요청은 하나의 CPU core만을 사용한다.  
보통 서버의 core는 멀티 core를 지원하기 때문에 Node.js 인스턴스를 몇 개를 사용해야 최적의 성능을 나타낼 수 있는지 반드시 확인이 필요하다.

## RPS (Request Per Second)

`1 초당 처리할 수 있는 리퀘스트(요청)의 수`
예를 들어, HTTP 요청과 같은 단순한 통신을 참조

# Latency

`서버가 클라이언트로부터 요청을 받아서 응답을 보내주기까지 걸리는 시간`을 의미합니다.  
쉽게 말해서 Latency 는 서비스가 작업을 얼마나 빠르게 처리할 수 있는지를 나타내는 성능 지표로 볼 수 있습니다.  
영어 그대로 직역해보자면 서버가 클라이언트의 요청을 처리하는데 발생하는 지연시간으로도 생각해볼 수 있습니다.

예를 들어, A 서비스의 웹 서버가 WAS 로부터 요청을 응답을 보내는데 걸리는 시간이 100㎳이고, B 서비스의 WAS 가 동일 작업을 처리하는데 50㎳가 걸렸다면 B 서비스가 작업을 더 빨리 처리할 수 있음을 알 수 있고, 이에 따라 성능면에서 더 좋다고 볼 수 있습니다.
