# CI/CD (Continuous Integration/Continuous Delivery)

`study.git/인프라/CI_CD.md` 참고!

# 배포 전략

https://reference-m1.tistory.com/211

## 롤링 배포

일반적인 배포를 의미하며, 단순하게 서버를 구성하여 배포하는 전략이다.  
다시 말해 구 버전에서 신 버전으로 트래픽을 점진적으로 전환하는 배포이다.  
관리가 편하지만, 배포 중 한쪽 인스턴스의 수가 감소되므로 서버 처리 용량을 미리 고려해야 한다.

## 블루 그린 배포

구 버전을 블루, 신 버전을 그린 이라고 해서 붙여진 이름이다.  
신 버전을 배포하고 일제히 전환하여 모든 연결을 신 버전을 바라보게 하는 전략이다.  
구 버전, 신 버전 서버를 동시에 나란히 구성하여 배포 시점에 트래픽이 일제히 전환된다.  
빠른 롤백이 가능하고, 운영환경에 영향을 주지 않고 실제 서비스 환경으로 신 버전 테스트가 가능하다.  
단 이런 구성은 시스템 자원이 두배로 필요하여 비용이 더 많이 발생한다.

## 카나리 배포

카나리 배포는 위험을 빠르게 감지할 수 있는 배포 전략이다.  
지정한 서버 또는 특정 user 에게만 배포했다가 정상적이면 전체를 배포한다.  
서버의 트래픽을 일부를 신 버전으로 분산하여 오류 여부를 확인할 수 있다. 이런 전략은 A/B 테스트가 가능하며, 성능 모니터링에 유용하다.  
트래픽을 분산시킬 때는 라우팅을 랜덤 하게 할 수 있고, 사용자로 분류할 수도 있다.
