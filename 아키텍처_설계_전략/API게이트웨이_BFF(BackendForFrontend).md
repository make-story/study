https://medium.com/javarevisited/api-gateway-vs-backend-for-frontend-bff-everything-you-need-to-know-90154a1e693f

# API 게이트웨이 또는 BFF 없이 직접 클라이언트에서 API 호출할 경우 단점

1. 서비스가 커지고 시스템이 복잡해지면 클라이언트는 모든 엔드포인트를 기억해야 합니다.
2. 클라이언트는 대기 시간을 증가시킬 수 있고 사용자에게 좋은 경험을 제공하지 않을 수 있는 데이터를 로드하기 위해 `다양한 마이크로 서비스에 대한 많은 API 호출을 수행`해야 합니다.
3. 권한, 로깅, 캐싱 등과 같은 문제는 모든 마이크로 서비스에서 구현되어야 합니다.
4. 마이크로서비스를 공개(public)하는 것은 공격자에게 문제를 요구하는 것입니다.

# API 게이트웨이 - 기존 일반적 방식

## API 게이트웨이의 이점

1. 백엔드 시스템의 `복잡성으로부터 클라이언트 추상화` (매쉬업)
2. 전체 시스템에 대한 사용자 `인증 및 권한 부여를 한 곳에서 처리`
3. 필요한 형식에 따라 요청 및 응답 변환
4. 백엔드 서비스에 대한 부하를 방지하기 위해 각 API에 대한 속도 제한
5. DDOS 공격을 방지하기 위해 단일 사용자 의 API 요청 제한
6. 반복되는 `요청에 대한 응답을 Caching`하여 서비스의 부하를 줄입니다.
7. 다양한 프로토콜 지원
8. 개별 API 를 측정하여 사용량에 따라 클라이언트에 청구
9. 단일 위치에서 시스템에 대한 API 호출 로깅 및 추적

## API 게이트웨이의 단점

1. API 게이트웨이는 전체 시스템 의 단일 실패 지점 이 될 수 있습니다.
2. API 게이트웨이에서 너무 많은 작업을 수행 하면 성능 문제가 발생하고 API 호출 대기 시간이 늘어날 수 있습니다.
3. 마이크로서비스가 너무 많으면 너무 많은 경로를 관리하는 것이 복잡해질 수 있습니다.
4. 클라이언트에서 서버로의 API 호출 에는 항상 추가 홉이 있습니다.
5. 관련된 추가 서버 구성 요소로 인한 추가 비용

# BFF(Backend For Frontend) -

데스크톱, 브라우저, 기본 모바일 애플리케이션, IOT 장치 등과 같은  
`특정 프런트 엔드 애플리케이션의 요구 사항을 충족하도록 설계된 여러 백엔드`

1. 응용 프로그램이 새로운 경우 사전에 사용법을 알 수 없습니다.
   따라서 처음에는 API 게이트웨이가 단일 구성 요소가 될 수 있으며
   클라이언트 전체에서 사용량이 증가하면 클라이언트용 API를 BFF와 같은 개별 구성 요소로 이동할 수 있습니다.

2. 클라이언트마다 다른 유형의 인증이 필요한 경우 단일 API GW를 사용하는 것보다 BFF를 사용하는 것이 확실히 좋습니다.

3. 클라이언트 응용 프로그램이 다른 팀에서 소유하는 경우 BFF를 사용하는 것이 합리적입니다.
   그렇지 않으면 단일 API GW가 있을 때 많은 상호 작용과 오버헤드가 발생합니다.
