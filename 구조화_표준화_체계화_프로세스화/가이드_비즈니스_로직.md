# 비즈니스 로직 관리

`study.git/프론트/NextJS_React/패턴/React_관심사분리_공통로직_비즈니스로직_관리.md` 참고!

- 추천방법1:

  - 댄 아브라모프(Dan Abramov)의 프레젠테이션(Presentational), 컨테이너(Container, 비즈니스로직) 컴포넌트로 분리
    - 특정 컨테이너 내부 여러 컴포넌트에서의 공통 비즈니스 로직
      - 이벤트 처리, 데이터 호출, 데이터 가공 등
    - https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0
    - https://patterns-dev-kr.github.io/design-patterns/container-presentational-pattern/
    - https://lunit.gitbook.io/redux-in-korean/basics/usagewithreact#presentational-container
  - 뱅크셀러드 글 참고
    - (https://blog.banksalad.com/tech/build-a-website-with-gatsby/)
    - components
      - 재사용이 가능한 요소들을 모아 컴포넌트로 구성되어 있습니다. 순수한 데이터 형태를 props로 받아오며, 다양한 container에서 사용 됩니다.
    - containers
      - container 는 화면을 구성하기 위한 영역에 해당하며 이며 여러개의 section 을 가지고 있습니다.
      - (container 내 하위 폴더가 section 입니다.)
      - (section 은 화면에서 하나의 영역 단위 입니다. 모듈같은 것)
      - 또한 section 은 여러개의 component 들의 조합으로 구성되어있습니다.
      - 기본적으로 page와 container는 1:1 매칭 된 구조를 가지고 있으며 데이터를 가져오거나, 비즈니스 로직이 포함됩니다.
    - pages
      - pages 에 존재하는 파일 이름을 기준으로 서비스의 경로가 생성됩니다.
      - 해당 파일은 경로 이름과 SEO 를 위한 title, description 등을 추가하며 콘텐츠들은 모두 container 에서 관리하였습니다.

- 추천방법2:

  - useXXX 사용자 Hooks 로 분리
    - 여러 컨테이너 또는 여러 컴포넌트에서의 공통 비즈니스 로직
      - 이벤트 처리, 데이터 호출, 데이터 가공 등
  - https://usehooks.com/
  - https://github.com/streamich/react-use
  - https://usehooks-ts.com/
  - https://blog.bitsrc.io/11-useful-custom-react-hooks-for-your-next-app-c66307cf0f0c

- 추천방법3:

  - withXXX 고차 컴포넌트(HOC)로 분리 (사용자 Hook 방식을 우선 고민)
    - 전반적으로 재사용 가능한 로직을 prop으로 컴포넌트에게 제공
    - 또는 특정 컨테이너 또는 컴포넌트 실행을 위한 선행조건 적용
    - 리액트 공식페이지 참고 (내용 중, 기존 믹스인 방식의 어려움)
      - https://reactjs-kr.firebaseapp.com/docs/higher-order-components.html
      - https://patterns-dev-kr.github.io/design-patterns/hoc-pattern/

- 추천방법4:

  - GraphQL 서버에서 작업
    - 데이터 호출이 동기적으로 필요할 때
    - 매쉬업이 필요할 때

- RSC(React Server Component):

  - Next.js "/app" 폴더 내부에는 RSC 관련 코드(서버단 Fetch, 서버단 렌더 프레젠테이션 컴포넌트) 외 비즈니스 로직 존재 불가
  - https://nextjs.org/docs/app/building-your-application/routing#component-hierarchy
