# `스프링 5와 Vue.js 2로 시작하는 모던 웹 어플리캐이션 개발` 책 내용 중

REST 아키텍처의 제약 조건을 준수하는 웹 서비스 API를 RESTful API라고 부른다.

## REST 아키텍처의 제약 사항

로이 필딩이 자신의 논문에서 소개한 REST 아키텍처 스타일의 아키텍처 제약 사항  
로이 필딩은 그의 논문에서 다음의 RESTful 시스템이 반드시 따라야 하는 아케텍처 제약 사항을 나열했다.

### 클라이언트-서버

이 제약 사항은 관심사의 분리에 고나한 것이다.  
클라이언트-서버 아키텍처 스타일에서 사용자 인터페이스에 대한 관심사는 데이터 저장소의 관심사와 분리하는 것이다.  
웹 애플리케이션은 이 스타일에 적합하다.  
프론트엔드는 브라우저 내부에 클라이언트로 존재하며 클라이언트는 API 를 통해 서버와 통신한다.

### 무상태성

클라잉너트와 서버 간의 통신은 무상태성(Stateless, HTTP의 특징)을 가진다.  
클라이언트에서 서버로의 각 요청은 서버가 해당 요청을 이해하는 데 필요한 모든 정보를 포함한다.  
해당 서버는 요청을 완전히 이해하는 데 저장된 컨텐스트를 이용해서는 안된다.  
('인증된 요청에 대해 서버 측면에 세션 ID를 저장하는 시스템을 RESTful이라고 부를 수 있는가?')

### 캐시

이 제약 사항은 시스템의 성능에 관련된 것이며, 그 시스템에서 요청에 대한 응답에 암묵적 또는 명시적으로 캐시 가능 또는 캐시 불가능을 알려줄 수 있어야 한다.  
웹 애플리케이션은 응답에서 Cache-Control 와 같은 HTTP 헤더를 사용해 캐시를 제어할 수 있다.

### 유니폼 인터페이스

이 제약 사항은 REST 아키텍처 스타일을 SOAP과 같은 다른 스타일과 구별하는 중심 기능이다.

### 계층형 시스템

계층화된 시스템의 아키텍처는 구성 요소의 동작을 제한하는 계층으로 구성되어 각 구성 요소가 상호작용하는 밀접한 계층 너머로는 볼 수가 없다.

### 주문형 코드(Code-On-Demand)

이 제약사항은 REST 아키텍처 스타일에서 선택 사항이다.

---

# 고집스러운 RESTful API 특징 (p238)

로이 필딩의 REST 논문에서 모범 사례인 부분을 채택해 고집스러운 RESTful API의 특징에 대해 얘기할 것이다.

## 리소스 중심적

API는 리소스를 중심으로 구성돼야 한다.  
API는 비즈니스 실체에 초점을 맞춰 구현 세부 사항을 숨기기 위한 추상화로서 리소스를 사용해 API 구현을 진화시킬 수 있어야 한다.

## URI를 통한 식별가능

리소스는 URI를 통해 식별할 수 있어야 한다.  
이는 동사 대신 명사를 기반으로 한다. 리소스의 컬렉션을 식별하는 해당 URI는 복수형이어야 한다.

- 주문 컬렉션: /v1/orders
- ID가 1234인 주문: /v1/orders/1234
- 사용자 컬렉션: /v1/users
- ID가 567인 유저: /v1/users/567

## HTTP 메소드를 통한 작업 정의

리소스에서 수행할 수 있는 작업은 HTTP 메서드를 통해 정의해야 한다.

- GET: 정보제공, 응답 캐싱가능
- POST: 정보전송, 생성
- PUT: 새로운 정보 생성 또는 업데이트
- PATCH: 기존 정보 일부 업데이트 (PUT과 다른 점은 무조건 기존 정보가 있고, 일부 수정하는 경우 PATCH 사용)
- DELETE: 정보 제거

## HTTP 상태 코드 사용

- 2xx: 성공
- 3xx: 리다이렉션
- 4xx: 클라이언트 에러
- 5xx: 서버에러

## 버전관리

버전을 관리하는 방법

- /v1/orders
- /orders?version=1
- HTTP 헤더의 X-API-Version 에 버전 숫자를 추가 (비추천 방식)

## 무상태성

공개 API의 경우 요청 인증을 관리하는데 HTTP 세션을 사용하는 것을 피해야 한다.  
공개 API는 무상태성을 가져야 한다.

## 페이징 처리

보통 페이징 처리를 이용해 컬렉션의 일부만 반환하는 것이 더 효율적이고, 또한 페이징 처리를 활용하면 데이터베이스 쿼리를 실행하는 데 시간이 적게 소요되므로 서버 측면에서 네트워크 대역폭과 처리 능력을 절약할 수 있다.

## 검색과 정렬

API는 일반적으로 컬렉션의 일부를 반환하기 위한 검색을 지원한다.  
예를 들어 다음은 완료된 주문만 가져오는 요청이다.  
/v1/orders?status=completed
