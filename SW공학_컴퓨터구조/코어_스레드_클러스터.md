# CPU 코어(Cores)와 스레드(Threads)

https://www.liquidweb.com/blog/difference-cpu-cores-thread/

- 코어는 물리적인 처리 장치입니다.
- 스레드는 CPU에 주어진 명령어의 가상 시퀀스입니다.
- 멀티스레딩은 작업을 여러 개의 스레드로 나누어 병렬로 실행함으로써 사용 가능한 시스템 리소스를 보다 잘 활용할 수 있게 해줍니다.
- 하이퍼스레딩은 프로세서가 두 개의 스레드를 동시에 실행할 수 있게 하여 성능을 더욱 향상시킵니다.

## CPU와 코어의 차이점

코어를 자동차의 바퀴로, CPU를 차량으로..

## 코어와 스레드

코어와 스레드의 주요 차이점은  
코어가 개별적인 물리적 처리 장치인 반면, 스레드는 명령어의 가상 시퀀스라는 것입니다.

컴퓨터의 성능은 코어 수와 스레딩 기술에 따라 달라집니다.  
예를 들어, 쿼드 코어 CPU가 있는 컴퓨터는 여러 코어를 활용하기 때문에 멀티스레딩의 이점을 얻을 수 있습니다.  
한편, 하이퍼스레딩 기술은 단일 코어를 두 개의 가상 코어로 분할하여 여러 스레드를 실행할 수 있도록 하여 활성화할 수 있는 스레드 수를 더욱 늘릴 수 있습니다.

이러한 강점에 대한 트레이드오프는 종종 비용이 들고, 더 많은 전력을 소모하며, 때때로만 전반적인 성능 향상으로 이어질 수 있다는 것입니다.  
고려 중인 CPU의 기술 사양뿐만 아니라 조직에서 이를 어떻게 사용할지에 대한 포괄적인 지식을 갖는 것이 중요합니다.

# Node.js 클러스터

https://f-lab.kr/insight/optimizing-nodejs-performance-with-cluster-module

노드JS의 싱글 스레드 모델은 하나의 CPU 코어만을 사용하기 때문에, 멀티 코어 시스템의 잠재력을 충분히 활용하지 못하는 단점이 있습니다.  
따라서 CPU 사용률이 높은 작업을 처리할 때는 성능이 저하될 수 있습니다.

왜냐하면 싱글 스레드는 한 번에 하나의 작업만 처리할 수 있으며,  
CPU 집약적인 작업은 이벤트 루프를 차단하여 시스템의 전반적인 처리량을 감소시킬 수 있기 때문입니다.  
이러한 문제를 해결하기 위해 노드JS는 클러스터 모듈을 제공합니다.

클러스터 모듈을 사용하면 싱글 스레드의 한계를 극복하고,  
멀티 코어 시스템의 모든 CPU 코어를 활용하여 애플리케이션의 성능을 향상시킬 수 있습니다.

## 클러스터 모듈의 작동 원리와 장점

클러스터 모듈은 노드JS 애플리케이션을 여러 개의 프로세스로 분산시켜 실행할 수 있게 해주는 모듈입니다.  
이를 통해 각 프로세스가 독립적인 스레드에서 실행되어 멀티 코어 시스템의 성능을 최대한 활용할 수 있습니다.

왜냐하면 클러스터 모듈은 마스터 프로세스가 작업자(워커) 프로세스를 생성하고 관리하는 구조를 가지고 있기 때문입니다.  
`마스터 프로세스는 네트워크 요청을 받아 이를 작업자 프로세스에 분배하며, 각 작업자 프로세스는 실제 애플리케이션 로직을 처리`합니다.

이러한 구조는 CPU 집약적인 작업을 여러 프로세스에 분산시켜 처리할 수 있게 해주며,  
이는 애플리케이션의 처리량과 반응성을 크게 향상시킵니다.

왜냐하면 각 작업자 프로세스가 독립적으로 실행되기 때문에,  
하나의 작업자 프로세스가 실패하더라도 다른 프로세스에는 영향을 주지 않고,  
마스터 프로세스는 실패한 작업자 프로세스를 새로운 프로세스로 대체할 수 있기 때문입니다.

또한, `클러스터 모듈은 로드 밸런싱 기능을 제공하여, 들어오는 요청을 여러 작업자 프로세스에 고르게 분배`할 수 있습니다.  
이는 모든 CPU 코어가 균등하게 작업을 처리하도록 하여 시스템의 전반적인 성능을 최적화합니다.
