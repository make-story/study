# NPM 공식 Monorepos

https://blog.npmjs.org/post/186494959890/monorepos-and-npm.html

# npm, yarn, pnpm 비교

https://yceffort.kr/2022/05/npm-vs-yarn-vs-pnpm

# 구글 모놀리식 저장소, 코드베이스

https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext

---

# 모노레포 전략

`모놀리식 방식은 소스 코드를 모듈화하지 않고 하나의 리포지터리에 모두 넣었다고 생각하시면 됩니다.`  
(동일저장소에 있는 다른 프로젝트 패키지 참조)

모든 코드가 단일 버전으로 서로 직접 의존하기 때문에 코드 재사용이 용이하고 빌드 및 배포 과정도 단순하지만,  
관심 분리가 어렵고 기능 추가나 삭제가 리포지터리 전체에 영향을 줄 수 있다는 단점이 있습니다.  
이런 단점을 해결하고자 멀티레포 방식이 등장했습니다.

멀티 레포 방식에서는 소스 코드를 모듈화한 뒤  
각 모듈에 독자적인 영역을 부여하고 버전 관리를 통해 관심을 분리해서  
기능 변경이 다른 리포지터리에 직접 영향을 미치지 않도록 개선했습니다.  
하지만 각 모듈이 서로 독립된 영역에 존재하기 때문에 코드 단계에서의 재사용이 어려워졌고 빌드와 배포 과정이 복잡해졌습니다.

`모노레포는 이와 같은 모놀리식 리포지터리와 멀티레포의 장점을 모두 취하고자 등장`했습니다.  
모노레포의 장점은 아래와 같습니다.

- Visibility
  - 리포지터리가 하나이기 때문에 모든 프로젝트의 코드와 자원(assets) 간의 관계와 의존성을 한눈에 확인할 수 있습니다.
- Collaboration
  - 모든 커밋 히스토리가 한 리포지터리에 남기 때문에 히스토리를 추적하거나 전체 리포지터리의 개발 방향을 이해하는 게 쉬워집니다.
  - 여러 곳에서 중복으로 사용하는 자산들(테스트 코드 등)을 공유하고 재사용할 수 있습니다.
- Speed
  - 배포와 빌드, 테스트와 같은 작업을 병렬로 한 번에 처리할 수 있으므로 한 번의 명령으로 여러 개의 리포지터리에서 작업을 진행할 수 있습니다.

https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext

> `모노레포는 단일 리포지터리에 여러 개의 서브 프로젝트(각각 모듈화된 프로젝트)가 존재하는 방식`

> `모노레포란 같은 레포지토리에서 서로 다른 프로젝트들을 관리하는 소프트웨어 개발 전략`
