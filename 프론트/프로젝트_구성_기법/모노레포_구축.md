# 네이버 - 개념, 구축
https://d2.naver.com/helloworld/0923884   
https://d2.naver.com/helloworld/7553804   

# 라인
https://engineering.linecorp.com/ko/blog/monorepo-with-turborepo/   

# 배달의 민족
https://techblog.woowahan.com/7976/  
https://github.com/kowoohyuk/monorepo-template  
  
https://github.com/make-story/monorepo-template   


-----


# 모노레포란?
모노레포는 단일 리포지터리에 여러 개의 서브 프로젝트가 존재하는 방식입니다.  
`모노레포란 같은 레포지토리에서 서로 다른 프로젝트들을 관리하는 소프트웨어 개발 전략`  
  
모놀리식 방식은 소스 코드를 모듈화하지 않고 하나의 리포지터리에 모두 넣었다고 생각하시면 됩니다.   
모든 코드가 단일 버전으로 서로 직접 의존하기 때문에 코드 재사용이 용이하고 빌드 및 배포 과정도 단순하지만,   
관심 분리가 어렵고 기능 추가나 삭제가 리포지터리 전체에 영향을 줄 수 있다는 단점이 있습니다.   
이런 단점을 해결하고자 멀티레포 방식이 등장했습니다.  
  
멀티 레포 방식에서는 소스 코드를 모듈화한 뒤   
각 모듈에 독자적인 영역을 부여하고 버전 관리를 통해 관심을 분리해서  
기능 변경이 다른 리포지터리에 직접 영향을 미치지 않도록 개선했습니다.  
하지만 각 모듈이 서로 독립된 영역에 존재하기 때문에 코드 단계에서의 재사용이 어려워졌고 빌드와 배포 과정이 복잡해졌습니다.  

모노레포는 이와 같은 모놀리식 리포지터리와 멀티레포의 장점을 모두 취하고자 등장했습니다. 모노레포의 장점은 아래와 같습니다.  
- Visibility
    - 리포지터리가 하나이기 때문에 모든 프로젝트의 코드와 자원(assets) 간의 관계와 의존성을 한눈에 확인할 수 있습니다.
- Collaboration
    - 모든 커밋 히스토리가 한 리포지터리에 남기 때문에 히스토리를 추적하거나 전체 리포지터리의 개발 방향을 이해하는 게 쉬워집니다.
    - 여러 곳에서 중복으로 사용하는 자산들(테스트 코드 등)을 공유하고 재사용할 수 있습니다.
- Speed
    - 배포와 빌드, 테스트와 같은 작업을 병렬로 한 번에 처리할 수 있으므로 한 번의 명령으로 여러 개의 리포지터리에서 작업을 진행할 수 있습니다.

https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext  

# Turborepo란?
Vercel이 인수(참고)한 Turborepo는 JavaScript와 TypeScript 코드 베이스의 모노레포를 위한 고성능 빌드 시스템입니다.  
Vercel과 AWS, Miro, PayPal, Discord, LINE+의 Universal Video Player 등 여러 프로젝트에서 프로덕션 단계로 사용하고 있으며(참고), 지금도 활발하게 개발이 진행되고 있습니다.  


-----


# 도구
## Yarn  
`Yarn(1.x) 또는 npm(7.x)`의 workspaces 필드를 사용해 간단히 모노레포를 구성할 수 있다.  
yarn link 또는 npm link 기능을 선언적으로 사용하는 것으로 node_modules 디렉터리에 workspace에 대한 심볼릭 링크가 생성된다.  
이를 통해 하나의 저장소에 있는 여러 프로젝트가 서로 쉽게 상호 참조할 수 있다.    

### 용어
- project
    - = 저장소
    - 하나 이상의 worktree 포함
    - 최소 한 개의 workspace(즉, 루트 workspace) 존재
- workspace
    - = 모노레포 패키지
- worktree
    - 자식 workspace를 갖는 workspace

`Yarn Berry (2.x, 3.x)`  
Yarn workspace를 도입하려고 할 때 성능면에서 Yarn Berry를 함께 검토해 볼 수 있다.  
Yarn Berry는 yarn의 두 번째 버전으로, 2018년 9월 yarn의 RFC 저장소에서 시작되었다.  
Yarn 1.x의 주요 개발자인 Mael Nison에 의해 TypeScript로 개발되었고 2020년 1월 25일 정식 버전이 출시되었다.  
Yarn 1.x는 v1.22.17에서 코드 프리징되었고 https://github.com/yarnpkg/berry 에서 2022.03.09 현재 v3.2.0이 출시되었다.  


## Lerna    

## Nx  

## Turborepo  
