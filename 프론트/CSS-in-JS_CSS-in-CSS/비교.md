# CSS-in-JS vs CSS-in-CSS (퍼포먼스 비교)

https://www.samsungsds.com/kr/insights/web_component.html

https://blueshw.github.io/2020/09/27/css-in-js-vs-css-modules/

Styled Components에서 확인한 결과입니다. 첫 번째 페이지 전환에 358ms가 소요되었습니다.

CSS 모듈에서 확인한 결과입니다. 첫 번째 페이지 전환에 90.5ms가 소요되었습니다. Styled Components에 비해서 시간이 줄어들었습니다. CSS 파일이 추출되는 CSS 모듈 방식은 자바스크립트 해석 과정이 따로 없기 때문에 페이지가 훨씬 빨리 전환됩니다.

# `실전에서 바로쓰는 Next.js` 책 내용 중

p149

Next.js 앱에서 스타일링 방법으로 CSS-in-JS 방식을 사용하는 것에는 몇 가지 단점이 있습니다.

우선 대부분의 CSS-in-JS 라이브러리는 IDE 나 코드 편집기 등 개발 도구에 대한 지원이 부족합니다. (23년 11월 기준 많이 개선됨)  
문법 하이라이팅, 자동 완성, 린팅(linging) 등의 기능을 제공하지 않기 때문에 개발자가 불편함을 겪을 수 있습니다.

또한 CSS-in-JS 방식을 사용하면 코드 내에서 CSS 에 대한 의존성이 점점 더 커지기 때문에 애플리케이션 번들이 더 커지고 느려지기 십상입니다.

성능 관점에서 보면 단점이 하나 더 있습니다.  
서버가 미리 CSS 규칙들을 생성해놓아도 클라이언트에서 리액트 하이드레이션이 끝나게 되면 CSS 규칙을 다시 생성해야 한다는 점입니다.  
이로 인해 실행 시점에 부하가 커지며 웹 애플리케이션이 계속 느려지게 됩니다. 기능을 추가하면 할 수록 상황은 더 나빠지겠죠.

이때 Styled JSX 대신 사용할 수 있는 좋은 방법이 있습니다. 바로 CSS Module 입니다.

p158

- 처음 렌더링되고 난 뒤 리액트 하이드레이션이 끝나면 클라이언트 측에서 만든 CSS 를 다시 렌더링해야 합니다.
- 또한 페이지를 요청할 때마다 서버 측과 클라이언트 측에서 CSS 규칙을 다시 만들기 때문에 브라우저가 CSS 규칙을 캐시에 저장할 수 없다는 문제도 있습니다.
