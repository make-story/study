# 공식 홈페이지

https://reactnative.dev/docs/environment-setup?platform=android  
https://reactnative.dev/docs/environment-setup?platform=ios

# Homebrew 설치

https://brew.sh/

# rbenv 설치

rbenv 는 Ruby 버전 관리자이다.  
Mac 에는 Ruby 가 기본적으로 설치되어 있지만 React Native 에서 필요한 Ruby 버전을 설치해야 한다.

React Native 공식문서: https://reactnative.dev/docs/environment-setup

공식문서에서는 루비 버전 관리자를 설치하기를 권장하고 있고,  
23.01.28, 기준 루비 2.7.6 버전을 설치해야 한다.

```bash
# rbenv 설치
$ brew install rbenv

# 필요한 버전 설치
$ rbenv install 2.7.6

# 설치한 버전을 기본 버전으로 설정
rbenv global 2.7.6
rbenv rehash

# Ruby bundler 설치
gem install bundler
```

permissions 에러가 나타나는 경우,
쉘 설정 파일 내용 추가

```bash
echo $SHELL
```

위 명령어 응답값이

- bash : .bash_profile 또는 .bashrc 파일
- zsh : .zshrc 또는 `$HOME/.zprofile 파일`

https://jojoldu.tistory.com/288

```bash
$ vim $HOME/.zprofile

# 추가할 코드
[[ -d ~/.rbenv  ]] && \
  export PATH=${HOME}/.rbenv/bin:${PATH} && \
  eval "$(rbenv init -)"

# 위 코드 파일에 저장 후 source 명령어로 코드 적용
$ source ~/.bash_profile

# 다시 실행해보기
$ gem install bundler
```

# Nodejs 설치

https://nodejs.org/

`24년 01월 기준, Node.js 최소 버전 18 이상`
https://reactnative.dev/docs/environment-setup?platform=ios#node--watchman

# JDK 설치

안드로이드 앱을 개발하기 위해서는 JDK (Java Development Kit)를 설치해야 한다.

```bash
# AdoptOpenJDK/openjdk 이름의 패키지 저장소를 추가
$ brew tap AdoptOpenJDK/openjdk

# 명령어를 입력하면 설치할 수 있는 jdk 목록을 보여준다.
$ brew search jdk

# openjdk설치, -case 뒤에 원하는 버전을 입력한다.
brew install --cask adoptopenjdk11

# 확인
$ javac -version
javac 11.0.11
```

또는 (리액트 공식 페이지 참고)

```bash
$ brew tap homebrew/cask-versions
$ brew install --cask zulu17

# Get path to where cask was installed to double-click installer
$ brew info --cask zulu17
```

# 안드로이드 스튜디오 설치 및 설정

https://developer.android.com/studio

설치를 마치고 나면 SDK 설정을 해야 한다.

More Manager 에 SKD Manager 를 클릭  
우측 하단에 Show Package Details 버튼을 클릭하고 아래 항목을 체크한 후 OK 버튼을 클릭

- Android SDK Platform 29

또는 (리액트 공식 페이지 참고)

- Android SDK Platform 33
- Google APIs ARM 64 v8a System Image (Apple M1 Silicon 의 경우 선택)

# 안드로이드 환경변수 설정

```bash
$ vim $HOME/.zprofile
```

```
export ANDROID_HOME=$HOME/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
export PATH=$PATH:$ANDROID_HOME/platform-tools
```

# Xcode 설치

https://apps.apple.com/kr/app/xcode/id497799835?mt=12

## Cocoapods 설치 (rbenv 가 정상설치되어 있지 않으면 에러가 발생함)

Cocoapads는 Swift 및 Objective-C 등 ios 개발에 사용되는 종속성 관리자

```bash
# 설치
$ sudo gem install cocoapods

# 확인
$ pod --version
1.14.3
```

# Watchman 설치

파일 시스템의 변경 사항을 감시하기 위한 Facebook의 도구이다.

더 나은 성능을 위해 설치하는 것이 좋다고 공식문서에서 권장하고 있다.

```bash
# 설치
$ brew install watchman

# 확인
$ watchman -v
2023.01.23.00
```

# React Native 프로젝트 생성

```bash
$ mkdir my-app
$ cd my-app
$ npx react-native init app
```

## React Native IOS 실행

`애플 M2 탑재된 맥OS의 경우에는 npm run ios 명령을 실행하기 전에 다음 작업을 수행`해야 합니다.

VSCode 에서 ios/Podfile 열고,

```
# Note that if you have use_frameworks! enabled, Flipper will not work and
# you should disable the next line.
```

위 주석을 찾아 다음 라인의 코드를 주석처리 합니다. (Flipper)

다음으로 터미널에서 프로젝트 내부의 ios 디렉토리로 이동한 뒤, ios 에서 사용하는 라이브러리를 설치

```bash
$ cd ios
$ pod install
$ cd ../
$ npm run ios
```

또는

```bash
$ cd ios
$ rm -rf Pods
$ rm -rf Podfile.lock
$ pod install
```

1. Xcode를 프로젝트명.xcworkspace 로 열어줍니다. (예: react-native.git/app/ios/app.xcworkspace)
2. Product > Clean Build Folder 를 실행합니다.
3. ▶︎ 를 눌러 실행합니다.

또는

homebrew 등으로 관련 도구(Node.js 또는 NVM 등)을 설치하면서,
ios 폴더 내부 NVM 버전세팅이 돌아가는 코드의 문제가 있을 수 있음.
이 경우, 'npx react-native init app' CLI 명령으로 프로젝트 다시 생성

https://reactnative.dev/docs/environment-setup?platform=ios&package-manager=yarn#optional-using-a-specific-version-or-template

또는

공식페이지 가이드에 따라 진행  
iOS에 문제가 있는 경우 다음을 실행하여 종속성을 다시 설치해 보세요.

https://reactnative.dev/docs/environment-setup?platform=ios&package-manager=yarn#creating-a-new-application

- 'cd ios' 폴더로 이동합니다.
- 'bundle install' 번들러를 설치
- 'bundle exec pod install' CocoaPods 에서 관리하는 iOS 종속성을 설치

```
Run instructions for Android:
• Have an Android emulator running (quickest way to get started), or a device connected.
• cd "react-native.git/app" && npx react-native run-android

Run instructions for iOS:
• cd "react-native.git/app/ios"

    • Install Cocoapods
      • bundle install # you need to run this only once in your project.
      • bundle exec pod install
      • cd ..

    • npx react-native run-ios
    - or -
    • Open app/ios/app.xcodeproj in Xcode or run "xed -b ios"
    • Hit the Run button

Run instructions for macOS:
• See https://aka.ms/ReactNativeGuideMacOS for the latest up-to-date instructions.
```

## React Native Android 실행

```bash
$ npm run android
```
