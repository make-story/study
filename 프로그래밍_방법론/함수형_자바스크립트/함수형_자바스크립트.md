`함수형 자바스크립트 입문` 책 정리

# 함수형 프로그래밍

## 참조 투명성

함수의 정의에서 모든 함수가 동일한 입력에 대해 동일한 값을 반환받도록 선언했다.  
함수의 이러한 속성을 참조 투명성(referential transparency)이라 한다.

참조 투명성 예제

```javascript
const identity = i => {
  return i;
};
```

이 함수는 무조건 입력한 값을 전달받아 반환한다.  
예를 들어 5를 입력하면 5를 반환한다.  
이 함수는 입력 인자 i에 의해서만 동작하며, 함수 내의 전역 참조는 없다.  
이 함수는 참조 투명성 조건을 충족한다.

## 명령형, 선언형, 추상화

함수형 프로그래밍은 선언 가능하고, 추상화된 코드 작성에 관한 것이다.

명령형 형태의 배열 반복

```javascript
const array = [1, 2, 3];
for (let i = 0; i < array.length; i++) {
  console.log(array[i]);
}
```

명령형(imperative) 프로그래밍이란 컴파일러에게 특정 작업을 어떻게 해야 하는지 알려주는 것이다.

선언형 프로그래밍에서는 컴파일러가 어떻게 작업해야 하는지보다 어떤 것이 필요한지가 중요하다.  
`'어떻게'라는 부분은 일반적인 함수 내에 추상화된다.`

선언형 형태의 배열 반복

```javascript
const array = [1, 2, 3];
array.forEach(element => console.log(element));
```

`추상화된 함수를 사용해서 개발자가 '어떻게'라는 부분을 다루고, 직접(어떻게) 문제를 걱정할 필요가 없게 됐다.`

## 함수형 프로그래밍의 장점

## 순수함수

순수 함수(Pure functions)란 주어진 입력에 대해 동일한 출력을 반환하는 함수다.

### 순수 함수는 테스트하기 편한 코드다

순수하지 않은 함수는 문제를 일으킬 수 있다.

```javascript
const percentValue = 5;
const calculateTax = value => (value / 100) * (100 + percentValue); // 외부 환경 percentValue 에 의존한다.
```

외부 환경에 의존해 논리를 계산하므로 calculateTax 함수는 순수하지 않은 함수다.

순수 함수는 외부 환경 변수를 바꿔서는 안 된다.  
다시 말해 순수 함수는 외부 변수에 의존해서는 안 되고 외부 변수도 변경해서는 안된다.

```javascript
const calculateTax = (value, percentValue) => (value / 100) * (100 + percentValue);
```
